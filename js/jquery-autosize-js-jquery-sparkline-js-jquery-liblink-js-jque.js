/*!
 Autosize 1.18.17
 license: MIT
 http://www.jacklmoore.com/autosize
*/
(function(t){var e,i={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},n='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',r=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","whiteSpace"],s=t(n).data("autosize",!0)[0];s.style.lineHeight="99px",t(s).css("lineHeight")==="99px"&&r.push("lineHeight"),s.style.lineHeight="",t.fn.autosize=function(n){return this.length?(n=t.extend({},i,n||{}),s.parentNode!==document.body&&t(document.body).append(s),this.each(function(){function i(){var e,i=window.getComputedStyle?window.getComputedStyle(c,null):null;i?(e=parseFloat(i.width),(i.boxSizing==="border-box"||i.webkitBoxSizing==="border-box"||i.mozBoxSizing==="border-box")&&t.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(t,n){e-=parseFloat(i[n])})):e=g.width(),s.style.width=Math.max(e,0)+"px"}function o(){var o={};if(e=c,s.className=n.className,s.id=n.id,l=parseFloat(g.css("maxHeight")),t.each(r,function(t,e){o[e]=g.css(e)}),t(s).css(o).attr("wrap",g.attr("wrap")),i(),window.chrome){var a=c.style.width;c.style.width="0px",c.offsetWidth,c.style.width=a}}function a(){var t,r;e!==c?o():i(),s.value=!c.value&&n.placeholder?g.attr("placeholder")||"":c.value,s.value+=n.append||"",s.style.overflowY=c.style.overflowY,r=parseFloat(c.style.height)||0,s.scrollTop=0,s.scrollTop=9e4,t=s.scrollTop,l&&t>l?(c.style.overflowY="scroll",t=l):(c.style.overflowY="hidden",u>t&&(t=u)),t+=d,Math.abs(r-t)>.01&&(c.style.height=t+"px",s.className=s.className,f&&n.callback.call(c,c),g.trigger("autosize.resized"))}function h(){clearTimeout(p),p=setTimeout(function(){var t=g.width();t!==v&&(v=t,a())},parseInt(n.resizeDelay,10))}var l,u,p,c=this,g=t(c),d=0,f=t.isFunction(n.callback),m={height:c.style.height,overflow:c.style.overflow,overflowY:c.style.overflowY,wordWrap:c.style.wordWrap,resize:c.style.resize},v=g.width(),x=g.css("resize");g.data("autosize")||(g.data("autosize",!0),(g.css("box-sizing")==="border-box"||g.css("-moz-box-sizing")==="border-box"||g.css("-webkit-box-sizing")==="border-box")&&(d=g.outerHeight()-g.height()),u=Math.max(parseFloat(g.css("minHeight"))-d||0,g.height()),g.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),x==="vertical"?g.css("resize","none"):x==="both"&&g.css("resize","horizontal"),"onpropertychange"in c?"oninput"in c?g.on("input.autosize keyup.autosize",a):g.on("propertychange.autosize",function(){event.propertyName==="value"&&a()}):g.on("input.autosize",a),n.resizeDelay!==!1&&t(window).on("resize.autosize",h),g.on("autosize.resize",a),g.on("autosize.resizeIncludeStyle",function(){e=null,a()}),g.on("autosize.destroy",function(){e=null,clearTimeout(p),t(window).off("resize",h),g.off("autosize").off(".autosize").css(m).removeData("autosize")}),a())})):this}})(jQuery||$),function(t,e,i){(function(t){typeof define=="function"&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.sparkline&&t(jQuery)})(function(n){"use strict";var r,s,o,a,h,l,u,p,c,g,d,f,m,v,x,y,w,b,S,C,k,R,M,I,P,_,H,L,z,T,A,j,F={},W=0;r=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:i,normalRangeMax:i,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:i,chartRangeMax:i,chartRangeMinX:i,chartRangeMaxX:i,tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:i,nullColor:i,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,colorMap:i,tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:i,thresholdValue:0,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,tooltipFormat:new o("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:i,tooltipFormat:new o("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:i,targetColor:"#4a2",chartRangeMax:i,chartRangeMin:i,tooltipFormat:new o("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},_='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',s=function(){var t,e;return t=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(t.prototype=n.extend(new arguments[0],arguments[arguments.length-1]),t._super=arguments[0].prototype):t.prototype=arguments[arguments.length-1],arguments.length>2&&(e=Array.prototype.slice.call(arguments,1,-1),e.unshift(t.prototype),n.extend.apply(n,e))):t.prototype=arguments[0],t.prototype.cls=t,t},n.SPFormatClass=o=s({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,n){var r,s,o,a,h,l=this,u=t;return this.format.replace(this.fre,function(){var t;return s=arguments[1],o=arguments[3],r=l.precre.exec(s),r?(h=r[2],s=r[1]):h=!1,a=u[s],a===i?"":o&&e&&e[o]?(t=e[o],t.get?e[o].get(a)||a:e[o][a]||a):(c(a)&&(a=n.get("numberFormatter")?n.get("numberFormatter")(a):v(a,h,n.get("numberDigitGroupCount"),n.get("numberDigitGroupSep"),n.get("numberDecimalMark"))),a)})}}),n.spformat=function(t,e){return new o(t,e)},a=function(t,e,i){return e>t?e:t>i?i:t},h=function(t,i){var n;return i===2?(n=e.floor(t.length/2),t.length%2?t[n]:(t[n-1]+t[n])/2):t.length%2?(n=(t.length*i+i)/4,n%1?(t[e.floor(n)]+t[e.floor(n)-1])/2:t[n-1]):(n=(t.length*i+2)/4,n%1?(t[e.floor(n)]+t[e.floor(n)-1])/2:t[n-1])},l=function(t){var e;switch(t){case"undefined":t=i;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:e=parseFloat(t),t==e&&(t=e)}return t},u=function(t){var e,i=[];for(e=t.length;e--;)i[e]=l(t[e]);return i},p=function(t,e){var i,n,r=[];for(i=0,n=t.length;n>i;i++)t[i]!==e&&r.push(t[i]);return r},c=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},v=function(t,e,i,r,s){var o,a;for(t=(e===!1?parseFloat(t)+"":t.toFixed(e)).split(""),o=0>(o=n.inArray(".",t))?t.length:o,t.length>o&&(t[o]=s),a=o-i;a>0;a-=i)t.splice(a,0,r);return t.join("")},g=function(t,e,i){var n;for(n=e.length;n--;)if((!i||e[n]!==null)&&e[n]!==t)return!1;return!0},d=function(t){var e,i=0;for(e=t.length;e--;)i+=typeof t[e]=="number"?t[e]:0;return i},m=function(t){return n.isArray(t)?t:[t]},f=function(e){var i;t.createStyleSheet?t.createStyleSheet().cssText=e:(i=t.createElement("style"),i.type="text/css",t.getElementsByTagName("head")[0].appendChild(i),i[typeof t.body.style.WebkitAppearance=="string"?"innerText":"innerHTML"]=e)},n.fn.simpledraw=function(e,r,s,o){var a,h;if(s&&(a=this.data("_jqs_vcanvas")))return a;if(n.fn.sparkline.canvas===!1)return!1;if(n.fn.sparkline.canvas===i){var l=t.createElement("canvas");if(l.getContext&&l.getContext("2d"))n.fn.sparkline.canvas=function(t,e,i,n){return new T(t,e,i,n)};else{if(!t.namespaces||t.namespaces.v)return n.fn.sparkline.canvas=!1,!1;t.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),n.fn.sparkline.canvas=function(t,e,i){return new A(t,e,i)}}}return e===i&&(e=n(this).innerWidth()),r===i&&(r=n(this).innerHeight()),a=n.fn.sparkline.canvas(e,r,this,o),h=n(this).data("_jqs_mhandler"),h&&h.registerCanvas(a),a},n.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},n.RangeMapClass=x=s({init:function(t){var e,i,n=[];for(e in t)t.hasOwnProperty(e)&&typeof e=="string"&&e.indexOf(":")>-1&&(i=e.split(":"),i[0]=i[0].length===0?-1/0:parseFloat(i[0]),i[1]=i[1].length===0?1/0:parseFloat(i[1]),i[2]=t[e],n.push(i));this.map=t,this.rangelist=n||!1},get:function(t){var e,n,r,s=this.rangelist;if((r=this.map[t])!==i)return r;if(s)for(e=s.length;e--;)if(n=s[e],t>=n[0]&&n[1]>=t)return n[2];return i}}),n.range_map=function(t){return new x(t)},y=s({init:function(t,e){var i=n(t);this.$el=i,this.options=e,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!e.get("disableTooltips"),this.highlightEnabled=!e.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(t){var e=n(t.canvas);this.canvas=t,this.$canvas=e,e.mouseenter(n.proxy(this.mouseenter,this)),e.mouseleave(n.proxy(this.mouseleave,this)),e.click(n.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=i)},mouseclick:function(t){var e=n.Event("sparklineClick");e.originalEvent=t,e.sparklines=this.splist,this.$el.trigger(e)},mouseenter:function(e){n(t.body).unbind("mousemove.jqs"),n(t.body).bind("mousemove.jqs",n.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new w(this.options),this.tooltip.updatePosition(e.pageX,e.pageY)),this.updateDisplay()},mouseleave:function(){n(t.body).unbind("mousemove.jqs");var e,i,r=this.splist,s=r.length,o=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),i=0;s>i;i++)e=r[i],e.clearRegionHighlight()&&(o=!0);o&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var t,e,i,r,s,o=this.splist,a=o.length,h=!1,l=this.$canvas.offset(),u=this.currentPageX-l.left,p=this.currentPageY-l.top;if(this.over){for(i=0;a>i;i++)e=o[i],r=e.setRegionHighlight(this.currentEl,u,p),r&&(h=!0);if(h){if(s=n.Event("sparklineRegionChange"),s.sparklines=this.splist,this.$el.trigger(s),this.tooltip){for(t="",i=0;a>i;i++)e=o[i],t+=e.getCurrentRegionTooltip();this.tooltip.setContent(t)}this.disableHighlight||this.canvas.render()}r===null&&this.mouseleave()}}}),w=s({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(e){var i,r=e.get("tooltipClassname","jqstooltip"),s=this.sizeStyle;this.container=e.get("tooltipContainer")||t.body,this.tooltipOffsetX=e.get("tooltipOffsetX",10),this.tooltipOffsetY=e.get("tooltipOffsetY",12),n("#jqssizetip").remove(),n("#jqstooltip").remove(),this.sizetip=n("<div/>",{id:"jqssizetip",style:s,"class":r}),this.tooltip=n("<div/>",{id:"jqstooltip","class":r}).appendTo(this.container),i=this.tooltip.offset(),this.offsetLeft=i.left,this.offsetTop=i.top,this.hidden=!0,n(window).unbind("resize.jqs scroll.jqs"),n(window).bind("resize.jqs scroll.jqs",n.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=n(window).scrollTop(),this.scrollLeft=n(window).scrollLeft(),this.scrollRight=this.scrollLeft+n(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){return t?(this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition()),i):(this.tooltip.css("visibility","hidden"),this.hidden=!0,i)},updatePosition:function(t,e){if(t===i){if(this.mousex===i)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;this.height&&this.width&&!this.hidden&&(e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,this.scrollTop>e&&(e=this.scrollTop),this.scrollLeft>t?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=i,n(window).unbind("resize.jqs scroll.jqs")}}),H=function(){f(_)},n(H),j=[],n.fn.sparkline=function(e,r){return this.each(function(){var s,o,a=new n.fn.sparkline.options(this,r),h=n(this);if(s=function(){var r,s,o,l,u,p,c;return e==="html"||e===i?(c=this.getAttribute(a.get("tagValuesAttribute")),(c===i||c===null)&&(c=h.html()),r=c.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):r=e,s=a.get("width")==="auto"?r.length*a.get("defaultPixelsPerValue"):a.get("width"),a.get("height")==="auto"?a.get("composite")&&n.data(this,"_jqs_vcanvas")||(l=t.createElement("span"),l.innerHTML="a",h.html(l),o=n(l).innerHeight()||n(l).height(),n(l).remove(),l=null):o=a.get("height"),a.get("disableInteraction")?u=!1:(u=n.data(this,"_jqs_mhandler"),u?a.get("composite")||u.reset():(u=new y(this,a),n.data(this,"_jqs_mhandler",u))),a.get("composite")&&!n.data(this,"_jqs_vcanvas")?(n.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),n.data(this,"_jqs_errnotify",!0)),i):(p=new n.fn.sparkline[a.get("type")](this,r,a,s,o),p.render(),u&&u.registerSparkline(p),i)},n(this).html()&&!a.get("disableHiddenCheck")&&n(this).is(":hidden")||!n(this).parents("body").length){if(!a.get("composite")&&n.data(this,"_jqs_pending"))for(o=j.length;o;o--)j[o-1][0]==this&&j.splice(o-1,1);j.push([this,s]),n.data(this,"_jqs_pending",!0)}else s.call(this)})},n.fn.sparkline.defaults=r(),n.sparkline_display_visible=function(){var t,e,i,r=[];for(e=0,i=j.length;i>e;e++)t=j[e][0],n(t).is(":visible")&&!n(t).parents().is(":hidden")?(j[e][1].call(t),n.data(j[e][0],"_jqs_pending",!1),r.push(e)):n(t).closest("html").length||n.data(t,"_jqs_pending")||(n.data(j[e][0],"_jqs_pending",!1),r.push(e));for(e=r.length;e;e--)j.splice(r[e-1],1)},n.fn.sparkline.options=s({init:function(t,e){var i,r,s,o;this.userOptions=e=e||{},this.tag=t,this.tagValCache={},r=n.fn.sparkline.defaults,s=r.common,this.tagOptionsPrefix=e.enableTagOptions&&(e.tagOptionsPrefix||s.tagOptionsPrefix),o=this.getTagSetting("type"),i=o===F?r[e.type||s.type]:r[o],this.mergedOptions=n.extend({},s,i,e)},getTagSetting:function(t){var e,n,r,s,o=this.tagOptionsPrefix;if(o===!1||o===i)return F;if(this.tagValCache.hasOwnProperty(t))e=this.tagValCache.key;else{if(e=this.tag.getAttribute(o+t),e===i||e===null)e=F;else if(e.substr(0,1)==="[")for(e=e.substr(1,e.length-2).split(","),n=e.length;n--;)e[n]=l(e[n].replace(/(^\s*)|(\s*$)/g,""));else if(e.substr(0,1)==="{")for(r=e.substr(1,e.length-2).split(","),e={},n=r.length;n--;)s=r[n].split(":",2),e[s[0].replace(/(^\s*)|(\s*$)/g,"")]=l(s[1].replace(/(^\s*)|(\s*$)/g,""));else e=l(e);this.tagValCache.key=e}return e},get:function(t,e){var n,r=this.getTagSetting(t);return r!==F?r:(n=this.mergedOptions[t])===i?e:n}}),n.fn.sparkline._base=s({disabled:!1,init:function(t,e,r,s,o){this.el=t,this.$el=n(t),this.values=e,this.options=r,this.width=s,this.height=o,this.currentRegion=i},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(){},setRegionHighlight:function(t,e,n){var r,s=this.currentRegion,o=!this.options.get("disableHighlight");return e>this.canvasWidth||n>this.canvasHeight||0>e||0>n?null:(r=this.getRegion(t,e,n),s!==r?(s!==i&&o&&this.removeHighlight(),this.currentRegion=r,r!==i&&o&&this.renderHighlight(),!0):!1)},clearRegionHighlight:function(){return this.currentRegion!==i?(this.removeHighlight(),this.currentRegion=i,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(){},getCurrentRegionTooltip:function(){var t,e,r,s,a,h,l,u,p,c,g,d,f,m,v=this.options,x="",y=[];if(this.currentRegion===i)return"";if(t=this.getCurrentRegionFields(),g=v.get("tooltipFormatter"))return g(this,v,t);if(v.get("tooltipChartTitle")&&(x+='<div class="jqs jqstitle">'+v.get("tooltipChartTitle")+"</div>\n"),e=this.options.get("tooltipFormat"),!e)return"";if(n.isArray(e)||(e=[e]),n.isArray(t)||(t=[t]),l=this.options.get("tooltipFormatFieldlist"),u=this.options.get("tooltipFormatFieldlistKey"),l&&u){for(p=[],h=t.length;h--;)c=t[h][u],(m=n.inArray(c,l))!=-1&&(p[m]=t[h]);t=p}for(r=e.length,f=t.length,h=0;r>h;h++)for(d=e[h],typeof d=="string"&&(d=new o(d)),s=d.fclass||"jqsfield",m=0;f>m;m++)t[m].isNull&&v.get("tooltipSkipNull")||(n.extend(t[m],{prefix:v.get("tooltipPrefix"),suffix:v.get("tooltipSuffix")}),a=d.render(t[m],v.get("tooltipValueLookups"),v),y.push('<div class="'+s+'">'+a+"</div>"));return y.length?x+y.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,i){var n,r,s,o,h=i.get("highlightColor"),l=i.get("highlightLighten");if(h)return h;if(l&&(n=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t))){for(s=[],r=t.length===4?16:1,o=0;3>o;o++)s[o]=a(e.round(parseInt(n[o+1],16)*r*l),0,255);return"rgb("+s.join(",")+")"}return t}}),b={changeHighlight:function(t){var e,i=this.currentRegion,r=this.target,s=this.regionShapes[i];s&&(e=this.renderRegion(i,t),n.isArray(e)||n.isArray(s)?(r.replaceWithShapes(s,e),this.regionShapes[i]=n.map(e,function(t){return t.id})):(r.replaceWithShape(s,e),this.regionShapes[i]=e.id))},render:function(){var t,e,i,r,s=this.values,o=this.target,a=this.regionShapes;if(this.cls._super.render.call(this)){for(i=s.length;i--;)if(t=this.renderRegion(i))if(n.isArray(t)){for(e=[],r=t.length;r--;)t[r].append(),e.push(t[r].id);a[i]=e}else t.append(),a[i]=t.id;else a[i]=null;o.render()}}},n.fn.sparkline.line=S=s(n.fn.sparkline._base,{type:"line",init:function(t,e,i,n,r){S._super.init.call(this,t,e,i,n,r),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e){var n,r=this.regionMap;for(n=r.length;n--;)if(r[n]!==null&&e>=r[n][0]&&r[n][1]>=e)return r[n][2];return i},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.yvalues[t]===null,x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t,e,n=this.currentRegion,r=this.target,s=this.vertices[n],o=this.options,a=o.get("spotRadius"),h=o.get("highlightSpotColor"),l=o.get("highlightLineColor");s&&(a&&h&&(t=r.drawCircle(s[0],s[1],a,i,h),this.highlightSpotId=t.id,r.insertAfterShape(this.lastShapeId,t)),l&&(e=r.drawLine(s[0],this.canvasTop,s[0],this.canvasTop+this.canvasHeight,l),this.highlightLineId=e.id,r.insertAfterShape(this.lastShapeId,e)))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t,i,n,r,s,o=this.values,a=o.length,h=this.xvalues,l=this.yvalues,u=this.yminmax;for(t=0;a>t;t++)i=o[t],n=typeof o[t]=="string",r=typeof o[t]=="object"&&o[t]instanceof Array,s=n&&o[t].split(":"),n&&s.length===2?(h.push(Number(s[0])),l.push(Number(s[1])),u.push(Number(s[1]))):r?(h.push(i[0]),l.push(i[1]),u.push(i[1])):(h.push(t),o[t]===null||o[t]==="null"?l.push(null):(l.push(Number(i)),u.push(Number(i))));this.options.get("xvalues")&&(h=this.options.get("xvalues")),this.maxy=this.maxyorg=e.max.apply(e,u),this.miny=this.minyorg=e.min.apply(e,u),this.maxx=e.max.apply(e,h),this.minx=e.min.apply(e,h),this.xvalues=h,this.yvalues=l,this.yminmax=u},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),n=t.get("normalRangeMax");e!==i&&(this.miny>e&&(this.miny=e),n>this.maxy&&(this.maxy=n)),t.get("chartRangeMin")!==i&&(t.get("chartRangeClip")||this.miny>t.get("chartRangeMin"))&&(this.miny=t.get("chartRangeMin")),t.get("chartRangeMax")!==i&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),t.get("chartRangeMinX")!==i&&(t.get("chartRangeClipX")||this.minx>t.get("chartRangeMinX"))&&(this.minx=t.get("chartRangeMinX")),t.get("chartRangeMaxX")!==i&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,n,r,s,o){var a=this.options.get("normalRangeMin"),h=this.options.get("normalRangeMax"),l=n+e.round(r-r*((h-this.miny)/o)),u=e.round(r*(h-a)/o);this.target.drawRect(t,l,s,u,i,this.options.get("normalRangeColor")).append()},render:function(){var t,r,s,o,a,h,l,u,p,c,g,d,f,m,v,y,w,b,C,k,R,M,I,P,_,H=this.options,L=this.target,z=this.canvasWidth,T=this.canvasHeight,A=this.vertices,j=H.get("spotRadius"),F=this.regionMap;if(S._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),I=this.xvalues,P=this.yvalues,this.yminmax.length&&!(2>this.yvalues.length))){for(o=a=0,t=this.maxx-this.minx===0?1:this.maxx-this.minx,r=this.maxy-this.miny===0?1:this.maxy-this.miny,s=this.yvalues.length-1,j&&(j*4>z||j*4>T)&&(j=0),j&&(R=H.get("highlightSpotColor")&&!H.get("disableInteraction"),(R||H.get("minSpotColor")||H.get("spotColor")&&P[s]===this.miny)&&(T-=e.ceil(j)),(R||H.get("maxSpotColor")||H.get("spotColor")&&P[s]===this.maxy)&&(T-=e.ceil(j),o+=e.ceil(j)),(R||(H.get("minSpotColor")||H.get("maxSpotColor"))&&(P[0]===this.miny||P[0]===this.maxy))&&(a+=e.ceil(j),z-=e.ceil(j)),(R||H.get("spotColor")||H.get("minSpotColor")||H.get("maxSpotColor")&&(P[s]===this.miny||P[s]===this.maxy))&&(z-=e.ceil(j))),T--,H.get("normalRangeMin")===i||H.get("drawNormalOnTop")||this.drawNormalRange(a,o,T,z,r),l=[],u=[l],m=v=null,y=P.length,_=0;y>_;_++)p=I[_],g=I[_+1],c=P[_],d=a+e.round((p-this.minx)*(z/t)),f=y-1>_?a+e.round((g-this.minx)*(z/t)):z,v=d+(f-d)/2,F[_]=[m||0,v,_],m=v,c===null?_&&(P[_-1]!==null&&(l=[],u.push(l)),A.push(null)):(this.miny>c&&(c=this.miny),c>this.maxy&&(c=this.maxy),l.length||l.push([d,o+T]),h=[d,o+e.round(T-T*((c-this.miny)/r))],l.push(h),A.push(h));for(w=[],b=[],C=u.length,_=0;C>_;_++)l=u[_],l.length&&(H.get("fillColor")&&(l.push([l[l.length-1][0],o+T]),b.push(l.slice(0)),l.pop()),l.length>2&&(l[0]=[l[0][0],l[1][1]]),w.push(l));for(C=b.length,_=0;C>_;_++)L.drawShape(b[_],H.get("fillColor"),H.get("fillColor")).append();for(H.get("normalRangeMin")!==i&&H.get("drawNormalOnTop")&&this.drawNormalRange(a,o,T,z,r),C=w.length,_=0;C>_;_++)L.drawShape(w[_],H.get("lineColor"),i,H.get("lineWidth")).append();if(j&&H.get("valueSpots"))for(k=H.get("valueSpots"),k.get===i&&(k=new x(k)),_=0;y>_;_++)M=k.get(P[_]),M&&L.drawCircle(a+e.round((I[_]-this.minx)*(z/t)),o+e.round(T-T*((P[_]-this.miny)/r)),j,i,M).append();j&&H.get("spotColor")&&P[s]!==null&&L.drawCircle(a+e.round((I[I.length-1]-this.minx)*(z/t)),o+e.round(T-T*((P[s]-this.miny)/r)),j,i,H.get("spotColor")).append(),this.maxy!==this.minyorg&&(j&&H.get("minSpotColor")&&(p=I[n.inArray(this.minyorg,P)],L.drawCircle(a+e.round((p-this.minx)*(z/t)),o+e.round(T-T*((this.minyorg-this.miny)/r)),j,i,H.get("minSpotColor")).append()),j&&H.get("maxSpotColor")&&(p=I[n.inArray(this.maxyorg,P)],L.drawCircle(a+e.round((p-this.minx)*(z/t)),o+e.round(T-T*((this.maxyorg-this.miny)/r)),j,i,H.get("maxSpotColor")).append())),this.lastShapeId=L.getLastShapeId(),this.canvasTop=o,L.render()}}}),n.fn.sparkline.bar=C=s(n.fn.sparkline._base,b,{type:"bar",init:function(t,r,s,o,h){var c,g,d,f,m,v,y,w,b,S,k,R,M,I,P,_,H,L,z,T,A,j,F=parseInt(s.get("barWidth"),10),W=parseInt(s.get("barSpacing"),10),E=s.get("chartRangeMin"),q=s.get("chartRangeMax"),N=s.get("chartRangeClip"),O=1/0,V=-1/0;for(C._super.init.call(this,t,r,s,o,h),v=0,y=r.length;y>v;v++)T=r[v],c=typeof T=="string"&&T.indexOf(":")>-1,(c||n.isArray(T))&&(P=!0,c&&(T=r[v]=u(T.split(":"))),T=p(T,null),g=e.min.apply(e,T),d=e.max.apply(e,T),O>g&&(O=g),d>V&&(V=d));this.stacked=P,this.regionShapes={},this.barWidth=F,this.barSpacing=W,this.totalBarWidth=F+W,this.width=o=r.length*F+(r.length-1)*W,this.initTarget(),N&&(M=E===i?-1/0:E,I=q===i?1/0:q),m=[],f=P?[]:m;var U=[],B=[];for(v=0,y=r.length;y>v;v++)if(P)for(_=r[v],r[v]=z=[],U[v]=0,f[v]=B[v]=0,H=0,L=_.length;L>H;H++)T=z[H]=N?a(_[H],M,I):_[H],T!==null&&(T>0&&(U[v]+=T),0>O&&V>0?0>T?B[v]+=e.abs(T):f[v]+=T:f[v]+=e.abs(T-(0>T?V:O)),m.push(T));else T=N?a(r[v],M,I):r[v],T=r[v]=l(T),T!==null&&m.push(T);this.max=R=e.max.apply(e,m),this.min=k=e.min.apply(e,m),this.stackMax=V=P?e.max.apply(e,U):R,this.stackMin=O=P?e.min.apply(e,m):k,s.get("chartRangeMin")!==i&&(s.get("chartRangeClip")||k>s.get("chartRangeMin"))&&(k=s.get("chartRangeMin")),s.get("chartRangeMax")!==i&&(s.get("chartRangeClip")||s.get("chartRangeMax")>R)&&(R=s.get("chartRangeMax")),this.zeroAxis=b=s.get("zeroAxis",!0),S=0>=k&&R>=0&&b?0:b==0?k:k>0?k:R,this.xaxisOffset=S,w=P?e.max.apply(e,f)+e.max.apply(e,B):R-k,this.canvasHeightEf=b&&0>k?this.canvasHeight-2:this.canvasHeight-1,S>k?(j=P&&R>=0?V:R,A=(j-S)/w*this.canvasHeight,A!==e.ceil(A)&&(this.canvasHeightEf-=2,A=e.ceil(A))):A=this.canvasHeight,this.yoffset=A,n.isArray(s.get("colorMap"))?(this.colorMapByIndex=s.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=s.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new x(this.colorMapByValue))),this.range=w},getRegion:function(t,n){var r=e.floor(n/this.totalBarWidth);return 0>r||r>=this.values.length?i:r},getCurrentRegionFields:function(){var t,e,i=this.currentRegion,n=m(this.values[i]),r=[];for(e=n.length;e--;)t=n[e],r.push({isNull:t===null,value:t,color:this.calcColor(e,t,i),offset:i});return r},calcColor:function(t,e,r){var s,o,a=this.colorMapByIndex,h=this.colorMapByValue,l=this.options;return s=this.stacked?l.get("stackedBarColor"):0>e?l.get("negBarColor"):l.get("barColor"),e===0&&l.get("zeroColor")!==i&&(s=l.get("zeroColor")),h&&(o=h.get(e))?s=o:a&&a.length>r&&(s=a[r]),n.isArray(s)?s[t%s.length]:s},renderRegion:function(t,r){var s,o,a,h,l,u,p,c,d,f,m=this.values[t],v=this.options,x=this.xaxisOffset,y=[],w=this.range,b=this.stacked,S=this.target,C=t*this.totalBarWidth,k=this.canvasHeightEf,R=this.yoffset;if(m=n.isArray(m)?m:[m],p=m.length,c=m[0],h=g(null,m),f=g(x,m,!0),h)return v.get("nullColor")?(a=r?v.get("nullColor"):this.calcHighlightColor(v.get("nullColor"),v),s=R>0?R-1:R,S.drawRect(C,s,this.barWidth-1,0,a,a)):i;for(l=R,u=0;p>u;u++){if(c=m[u],b&&c===x){if(!f||d)continue;d=!0}o=w>0?e.floor(k*(e.abs(c-x)/w))+1:1,x>c||c===x&&R===0?(s=l,l+=o):(s=R-o,R-=o),a=this.calcColor(u,c,t),r&&(a=this.calcHighlightColor(a,v)),y.push(S.drawRect(C,s,this.barWidth-1,o-1,a,a))}return y.length===1?y[0]:y}}),n.fn.sparkline.tristate=k=s(n.fn.sparkline._base,b,{type:"tristate",init:function(t,e,r,s,o){var a=parseInt(r.get("barWidth"),10),h=parseInt(r.get("barSpacing"),10);k._super.init.call(this,t,e,r,s,o),this.regionShapes={},this.barWidth=a,this.barSpacing=h,this.totalBarWidth=a+h,this.values=n.map(e,Number),this.width=s=e.length*a+(e.length-1)*h,n.isArray(r.get("colorMap"))?(this.colorMapByIndex=r.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=r.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new x(this.colorMapByValue))),this.initTarget()},getRegion:function(t,i){return e.floor(i/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var i,n,r=this.values,s=this.options,o=this.colorMapByIndex,a=this.colorMapByValue;return i=a&&(n=a.get(t))?n:o&&o.length>e?o[e]:0>r[e]?s.get("negBarColor"):r[e]>0?s.get("posBarColor"):s.get("zeroBarColor")},renderRegion:function(t,n){var r,s,o,a,h,l,u=this.values,p=this.options,c=this.target;return r=c.pixelHeight,o=e.round(r/2),a=t*this.totalBarWidth,0>u[t]?(h=o,s=o-1):u[t]>0?(h=0,s=o-1):(h=o-1,s=2),l=this.calcColor(u[t],t),l!==null?(n&&(l=this.calcHighlightColor(l,p)),c.drawRect(a,h,this.barWidth-1,s-1,l,l)):i}}),n.fn.sparkline.discrete=R=s(n.fn.sparkline._base,b,{type:"discrete",init:function(t,r,s,o,a){R._super.init.call(this,t,r,s,o,a),this.regionShapes={},this.values=r=n.map(r,Number),this.min=e.min.apply(e,r),this.max=e.max.apply(e,r),this.range=this.max-this.min,this.width=o=s.get("width")==="auto"?r.length*2:this.width,this.interval=e.floor(o/r.length),this.itemWidth=o/r.length,s.get("chartRangeMin")!==i&&(s.get("chartRangeClip")||this.min>s.get("chartRangeMin"))&&(this.min=s.get("chartRangeMin")),s.get("chartRangeMax")!==i&&(s.get("chartRangeClip")||s.get("chartRangeMax")>this.max)&&(this.max=s.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight=s.get("lineHeight")==="auto"?e.round(this.canvasHeight*.3):s.get("lineHeight"))},getRegion:function(t,i){return e.floor(i/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],offset:t}},renderRegion:function(t,i){var n,r,s,o,h=this.values,l=this.options,u=this.min,p=this.max,c=this.range,g=this.interval,d=this.target,f=this.canvasHeight,m=this.lineHeight,v=f-m;return r=a(h[t],u,p),o=t*g,n=e.round(v-v*((r-u)/c)),s=l.get("thresholdColor")&&l.get("thresholdValue")>r?l.get("thresholdColor"):l.get("lineColor"),i&&(s=this.calcHighlightColor(s,l)),d.drawLine(o,n,o,n+m,s)}}),n.fn.sparkline.bullet=M=s(n.fn.sparkline._base,{type:"bullet",init:function(t,n,r,s,o){var a,h,l;M._super.init.call(this,t,n,r,s,o),this.values=n=u(n),l=n.slice(),l[0]=l[0]===null?l[2]:l[0],l[1]=n[1]===null?l[2]:l[1],a=e.min.apply(e,n),h=e.max.apply(e,n),a=r.get("base")===i?0>a?a:0:r.get("base"),this.min=a,this.max=h,this.range=h-a,this.shapes={},this.valueShapes={},this.regiondata={},this.width=s=r.get("width")==="auto"?"4.0em":s,this.target=this.$el.simpledraw(s,o,r.get("composite")),n.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,n){var r=this.target.getShapeAt(t,e,n);return r!==i&&this.shapes[r]!==i?this.shapes[r]:i},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e,i=this.currentRegion,n=this.valueShapes[i];switch(delete this.shapes[n],i.substr(0,1)){case"r":e=this.renderRange(i.substr(1),t);break;case"p":e=this.renderPerformance(t);break;case"t":e=this.renderTarget(t)}this.valueShapes[i]=e.id,this.shapes[e.id]=i,this.target.replaceWithShape(n,e)},renderRange:function(t,i){var n=this.values[t],r=e.round(this.canvasWidth*((n-this.min)/this.range)),s=this.options.get("rangeColors")[t-2];return i&&(s=this.calcHighlightColor(s,this.options)),this.target.drawRect(0,0,r-1,this.canvasHeight-1,s,s)},renderPerformance:function(t){var i=this.values[1],n=e.round(this.canvasWidth*((i-this.min)/this.range)),r=this.options.get("performanceColor");
return t&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,e.round(this.canvasHeight*.3),n-1,e.round(this.canvasHeight*.4)-1,r,r)},renderTarget:function(t){var i=this.values[0],n=e.round(this.canvasWidth*((i-this.min)/this.range)-this.options.get("targetWidth")/2),r=e.round(this.canvasHeight*.1),s=this.canvasHeight-r*2,o=this.options.get("targetColor");return t&&(o=this.calcHighlightColor(o,this.options)),this.target.drawRect(n,r,this.options.get("targetWidth")-1,s-1,o,o)},render:function(){var t,e,i=this.values.length,n=this.target;if(M._super.render.call(this)){for(t=2;i>t;t++)e=this.renderRange(t).append(),this.shapes[e.id]="r"+t,this.valueShapes["r"+t]=e.id;this.values[1]!==null&&(e=this.renderPerformance().append(),this.shapes[e.id]="p1",this.valueShapes.p1=e.id),this.values[0]!==null&&(e=this.renderTarget().append(),this.shapes[e.id]="t0",this.valueShapes.t0=e.id),n.render()}}}),n.fn.sparkline.pie=I=s(n.fn.sparkline._base,{type:"pie",init:function(t,i,r,s,o){var a,h=0;if(I._super.init.call(this,t,i,r,s,o),this.shapes={},this.valueShapes={},this.values=i=n.map(i,Number),r.get("width")==="auto"&&(this.width=this.height),i.length>0)for(a=i.length;a--;)h+=i[a];this.total=h,this.initTarget(),this.radius=e.floor(e.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,n){var r=this.target.getShapeAt(t,e,n);return r!==i&&this.shapes[r]!==i?this.shapes[r]:i},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===i,value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,i=this.renderSlice(e,t),n=this.valueShapes[e];delete this.shapes[n],this.target.replaceWithShape(n,i),this.valueShapes[e]=i.id,this.shapes[i.id]=e},renderSlice:function(t,n){var r,s,o,a,h,l=this.target,u=this.options,p=this.radius,c=u.get("borderWidth"),g=u.get("offset"),d=2*e.PI,f=this.values,m=this.total,v=g?2*e.PI*(g/360):0;for(a=f.length,o=0;a>o;o++){if(r=v,s=v,m>0&&(s=v+d*(f[o]/m)),t===o)return h=u.get("sliceColors")[o%u.get("sliceColors").length],n&&(h=this.calcHighlightColor(h,u)),l.drawPieSlice(p,p,p-c,r,s,i,h);v=s}},render:function(){var t,n,r=this.target,s=this.values,o=this.options,a=this.radius,h=o.get("borderWidth");if(I._super.render.call(this)){for(h&&r.drawCircle(a,a,e.floor(a-h/2),o.get("borderColor"),i,h).append(),n=s.length;n--;)s[n]&&(t=this.renderSlice(n).append(),this.valueShapes[n]=t.id,this.shapes[t.id]=n);r.render()}}}),n.fn.sparkline.box=P=s(n.fn.sparkline._base,{type:"box",init:function(t,e,i,r,s){P._super.init.call(this,t,e,i,r,s),this.values=n.map(e,Number),this.width=i.get("width")==="auto"?"4.0em":r,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==i&&t.push({field:"lo",value:this.loutlier}),this.routlier!==i&&t.push({field:"ro",value:this.routlier}),this.lwhisker!==i&&t.push({field:"lw",value:this.lwhisker}),this.rwhisker!==i&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t,n,r,s,o,a,l,u,p,c,g,d=this.target,f=this.values,m=f.length,v=this.options,x=this.canvasWidth,y=this.canvasHeight,w=v.get("chartRangeMin")===i?e.min.apply(e,f):v.get("chartRangeMin"),b=v.get("chartRangeMax")===i?e.max.apply(e,f):v.get("chartRangeMax"),S=0;if(P._super.render.call(this)){if(v.get("raw"))v.get("showOutliers")&&f.length>5?(n=f[0],t=f[1],s=f[2],o=f[3],a=f[4],l=f[5],u=f[6]):(t=f[0],s=f[1],o=f[2],a=f[3],l=f[4]);else if(f.sort(function(t,e){return t-e}),s=h(f,1),o=h(f,2),a=h(f,3),r=a-s,v.get("showOutliers")){for(t=l=i,p=0;m>p;p++)t===i&&f[p]>s-r*v.get("outlierIQR")&&(t=f[p]),a+r*v.get("outlierIQR")>f[p]&&(l=f[p]);n=f[0],u=f[m-1]}else t=f[0],l=f[m-1];this.quartiles=[s,o,a],this.lwhisker=t,this.rwhisker=l,this.loutlier=n,this.routlier=u,g=x/(b-w+1),v.get("showOutliers")&&(S=e.ceil(v.get("spotRadius")),x-=2*e.ceil(v.get("spotRadius")),g=x/(b-w+1),t>n&&d.drawCircle((n-w)*g+S,y/2,v.get("spotRadius"),v.get("outlierLineColor"),v.get("outlierFillColor")).append(),u>l&&d.drawCircle((u-w)*g+S,y/2,v.get("spotRadius"),v.get("outlierLineColor"),v.get("outlierFillColor")).append()),d.drawRect(e.round((s-w)*g+S),e.round(y*.1),e.round((a-s)*g),e.round(y*.8),v.get("boxLineColor"),v.get("boxFillColor")).append(),d.drawLine(e.round((t-w)*g+S),e.round(y/2),e.round((s-w)*g+S),e.round(y/2),v.get("lineColor")).append(),d.drawLine(e.round((t-w)*g+S),e.round(y/4),e.round((t-w)*g+S),e.round(y-y/4),v.get("whiskerColor")).append(),d.drawLine(e.round((l-w)*g+S),e.round(y/2),e.round((a-w)*g+S),e.round(y/2),v.get("lineColor")).append(),d.drawLine(e.round((l-w)*g+S),e.round(y/4),e.round((l-w)*g+S),e.round(y-y/4),v.get("whiskerColor")).append(),d.drawLine(e.round((o-w)*g+S),e.round(y*.1),e.round((o-w)*g+S),e.round(y*.9),v.get("medianColor")).append(),v.get("target")&&(c=e.ceil(v.get("spotRadius")),d.drawLine(e.round((v.get("target")-w)*g+S),e.round(y/2-c),e.round((v.get("target")-w)*g+S),e.round(y/2+c),v.get("targetColor")).append(),d.drawLine(e.round((v.get("target")-w)*g+S-c),e.round(y/2),e.round((v.get("target")-w)*g+S+c),e.round(y/2),v.get("targetColor")).append()),d.render()}}}),L=s({init:function(t,e,i,n){this.target=t,this.id=e,this.type=i,this.args=n},append:function(){return this.target.appendShape(this),this}}),z=s({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,e,i){t&&(this.width=t,this.height=e,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),n.data(i,"_jqs_vcanvas",this))},drawLine:function(t,e,i,n,r,s){return this.drawShape([[t,e],[i,n]],r,s)},drawShape:function(t,e,i,n){return this._genShape("Shape",[t,e,i,n])},drawCircle:function(t,e,i,n,r,s){return this._genShape("Circle",[t,e,i,n,r,s])},drawPieSlice:function(t,e,i,n,r,s,o){return this._genShape("PieSlice",[t,e,i,n,r,s,o])},drawRect:function(t,e,i,n,r,s){return this._genShape("Rect",[t,e,i,n,r,s])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,e){n(e).html(t)},_calculatePixelDims:function(t,e,i){var r;r=this._pxregex.exec(e),this.pixelHeight=r?r[1]:n(i).height(),r=this._pxregex.exec(t),this.pixelWidth=r?r[1]:n(i).width()},_genShape:function(t,e){var i=W++;return e.unshift(i),new L(this,i,t,e)},appendShape:function(){alert("appendShape not implemented")},replaceWithShape:function(){alert("replaceWithShape not implemented")},insertAfterShape:function(){alert("insertAfterShape not implemented")},removeShapeId:function(){alert("removeShapeId not implemented")},getShapeAt:function(){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),T=s(z,{init:function(e,r,s,o){T._super.init.call(this,e,r,s),this.canvas=t.createElement("canvas"),s[0]&&(s=s[0]),n.data(s,"_jqs_vcanvas",this),n(this.canvas).css({display:"inline-block",width:e,height:r,verticalAlign:"top"}),this._insert(this.canvas,s),this._calculatePixelDims(e,r,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=o,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=i,n(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,n){var r=this.canvas.getContext("2d");return t!==i&&(r.strokeStyle=t),r.lineWidth=n===i?1:n,e!==i&&(r.fillStyle=e),r},reset:function(){var t=this._getContext();t.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=i},_drawShape:function(t,e,n,r,s){var o,a,h=this._getContext(n,r,s);for(h.beginPath(),h.moveTo(e[0][0]+.5,e[0][1]+.5),o=1,a=e.length;a>o;o++)h.lineTo(e[o][0]+.5,e[o][1]+.5);n!==i&&h.stroke(),r!==i&&h.fill(),this.targetX!==i&&this.targetY!==i&&h.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,n,r,s,o,a,h){var l=this._getContext(o,a,h);l.beginPath(),l.arc(n,r,s,0,2*e.PI,!1),this.targetX!==i&&this.targetY!==i&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),o!==i&&l.stroke(),a!==i&&l.fill()},_drawPieSlice:function(t,e,n,r,s,o,a,h){var l=this._getContext(a,h);l.beginPath(),l.moveTo(e,n),l.arc(e,n,r,s,o,!1),l.lineTo(e,n),l.closePath(),a!==i&&l.stroke(),h&&l.fill(),this.targetX!==i&&this.targetY!==i&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,i,n,r,s,o){return this._drawShape(t,[[e,i],[e+n,i],[e+n,i+r],[e,i+r],[e,i]],s,o)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i,n=this.shapeseq;for(this.shapes[e.id]=e,i=n.length;i--;)n[i]==t&&(n[i]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){var i,n,r,s=this.shapeseq,o={};for(n=t.length;n--;)o[t[n]]=!0;for(n=s.length;n--;)i=s[n],o[i]&&(s.splice(n,1),delete this.shapes[i],r=n);for(n=e.length;n--;)s.splice(r,0,e[n].id),this.shapes[e[n].id]=e[n]},insertAfterShape:function(t,e){var n,r=this.shapeseq;for(n=r.length;n--;)if(r[n]===t)return r.splice(n+1,0,e.id),this.shapes[e.id]=e,i},removeShapeId:function(t){var e,i=this.shapeseq;for(e=i.length;e--;)if(i[e]===t){i.splice(e,1);break}delete this.shapes[t]},getShapeAt:function(t,e,i){return this.targetX=e,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var t,e,i,n=this.shapeseq,r=this.shapes,s=n.length,o=this._getContext();for(o.clearRect(0,0,this.pixelWidth,this.pixelHeight),i=0;s>i;i++)t=n[i],e=r[t],this["_draw"+e.type].apply(this,e.args);this.interact||(this.shapes={},this.shapeseq=[])}}),A=s(z,{init:function(e,i,r){var s;A._super.init.call(this,e,i,r),r[0]&&(r=r[0]),n.data(r,"_jqs_vcanvas",this),this.canvas=t.createElement("span"),n(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:e,height:i,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,r),this._calculatePixelDims(e,i,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,s='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"'+' style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",s),this.group=n(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,n,r,s){var o,a,h,l,u,p,c,g=[];for(c=0,p=e.length;p>c;c++)g[c]=""+e[c][0]+","+e[c][1];return o=g.splice(0,1),s=s===i?1:s,a=n===i?' stroked="false" ':' strokeWeight="'+s+'px" strokeColor="'+n+'" ',h=r===i?' filled="false"':' fillColor="'+r+'" filled="true" ',l=g[0]===g[g.length-1]?"x ":"",u='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" '+' id="jqsshape'+t+'" '+a+h+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;" '+' path="m '+o+" l "+g.join(", ")+" "+l+'e">'+" </v:shape>"},_drawCircle:function(t,e,n,r,s,o,a){var h,l,u;return e-=r,n-=r,h=s===i?' stroked="false" ':' strokeWeight="'+a+'px" strokeColor="'+s+'" ',l=o===i?' filled="false"':' fillColor="'+o+'" filled="true" ',u='<v:oval  id="jqsshape'+t+'" '+h+l+' style="position:absolute;top:'+n+"px; left:"+e+"px; width:"+r*2+"px; height:"+r*2+'px"></v:oval>'},_drawPieSlice:function(t,n,r,s,o,a,h,l){var u,p,c,g,d,f,m,v;if(o===a)return"";if(a-o===2*e.PI&&(o=0,a=2*e.PI),p=n+e.round(e.cos(o)*s),c=r+e.round(e.sin(o)*s),g=n+e.round(e.cos(a)*s),d=r+e.round(e.sin(a)*s),p===g&&c===d){if(e.PI>a-o)return"";p=g=n+s,c=d=r}return p===g&&c===d&&e.PI>a-o?"":(u=[n-s,r-s,n+s,r+s,p,c,g,d],f=h===i?' stroked="false" ':' strokeWeight="1px" strokeColor="'+h+'" ',m=l===i?' filled="false"':' fillColor="'+l+'" filled="true" ',v='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" '+' id="jqsshape'+t+'" '+f+m+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;" '+' path="m '+n+","+r+" wa "+u.join(", ")+' x e">'+" </v:shape>")},_drawRect:function(t,e,i,n,r,s,o){return this._drawShape(t,[[e,i],[e,i+r],[e+n,i+r],[e+n,i],[e,i]],s,o)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i=n("#jqsshape"+t),r=this["_draw"+e.type].apply(this,e.args);i[0].outerHTML=r},replaceWithShapes:function(t,e){var i,r=n("#jqsshape"+t[0]),s="",o=e.length;for(i=0;o>i;i++)s+=this["_draw"+e[i].type].apply(this,e[i].args);for(r[0].outerHTML=s,i=1;t.length>i;i++)n("#jqsshape"+t[i]).remove()},insertAfterShape:function(t,e){var i=n("#jqsshape"+t),r=this["_draw"+e.type].apply(this,e.args);i[0].insertAdjacentHTML("afterEnd",r)},removeShapeId:function(t){var e=n("#jqsshape"+t);this.group.removeChild(e[0])},getShapeAt:function(t){var e=t.id.substr(8);return e},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math),function(t){"use strict";function e(e){return e instanceof t||t.zepto&&t.zepto.isZ(e)}function i(e,i){return typeof e=="string"&&e.indexOf("-inline-")===0?(this.method=i||"html",this.target=this.el=t(e.replace("-inline-","")||"<div/>"),!0):void 0}function n(e){if(typeof e=="string"&&e.indexOf("-")!==0){this.method="val";var i=document.createElement("input");return i.name=e,i.type="hidden",this.target=this.el=t(i),!0}}function r(t){return typeof t=="function"?(this.target=!1,this.method=t,!0):void 0}function s(t,i){return e(t)&&!i?(t.is("input, select, textarea")?(this.method="val",this.target=t.on("change.liblink",this.changeHandler)):(this.target=t,this.method="html"),!0):void 0}function o(t,i){return e(t)&&(typeof i=="function"||typeof i=="string"&&t[i])?(this.method=i,this.target=t,!0):void 0}function a(e,i,n){var r=this,s=!1;if(this.changeHandler=function(e){var i=r.formatInstance.from(t(this).val());return i===!1||isNaN(i)?(t(this).val(r.lastSetValue),!1):(r.changeHandlerMethod.call("",e,i),void 0)},this.el=!1,this.formatInstance=n,t.each(u,function(t,n){return s=n.call(r,e,i),!s}),!s)throw new RangeError("(Link) Invalid Link.")}function h(t){this.items=[],this.elements=[],this.origin=t}function l(e,i,n,r){e===0&&(e=this.LinkDefaultFlag),this.linkAPI||(this.linkAPI={}),this.linkAPI[e]||(this.linkAPI[e]=new h(this));var s=new a(i,n,r||this.LinkDefaultFormatter);s.target||(s.target=t(this)),s.changeHandlerMethod=this.LinkConfirm(e,s.el),this.linkAPI[e].push(s,s.el),this.LinkUpdate(e)}var u=[i,n,r,s,o];a.prototype.set=function(t){var e=Array.prototype.slice.call(arguments),i=e.slice(1);this.lastSetValue=this.formatInstance.to(t),i.unshift(this.lastSetValue),(typeof this.method=="function"?this.method:this.target[this.method]).apply(this.target,i)},h.prototype.push=function(t,e){this.items.push(t),e&&this.elements.push(e)},h.prototype.reconfirm=function(t){var e;for(e=0;this.elements.length>e;e+=1)this.origin.LinkConfirm(t,this.elements[e])},h.prototype.remove=function(){var t;for(t=0;this.items.length>t;t+=1)this.items[t].target.off(".liblink");for(t=0;this.elements.length>t;t+=1)this.elements[t].remove()},h.prototype.change=function(t){if(this.origin.LinkIsEmitting)return!1;this.origin.LinkIsEmitting=!0;var e,i=Array.prototype.slice.call(arguments,1);for(i.unshift(t),e=0;this.items.length>e;e+=1)this.items[e].set.apply(this.items[e],i);this.origin.LinkIsEmitting=!1},t.fn.Link=function(e){var i=this;if(e===!1)return i.each(function(){this.linkAPI&&(t.map(this.linkAPI,function(t){t.remove()}),delete this.linkAPI)});if(e===void 0)e=0;else if(typeof e!="string")throw Error("Flag must be string.");return{to:function(t,n,r){return i.each(function(){l.call(this,e,t,n,r)})}}}}(window.jQuery||window.Zepto),function(){"use strict";function t(t){return t.split("").reverse().join("")}function e(t,e){return t.substring(0,e.length)===e}function i(t,e){return t.slice(-1*e.length)===e}function n(t,e,i){if((t[e]||t[i])&&t[e]===t[i])throw Error(e)}function r(t){return typeof t=="number"&&isFinite(t)}function s(t,e){var i=Math.pow(10,e);return(Math.round(t*i)/i).toFixed(e)}function o(e,i,n,o,a,h,l,u,p,c,g,d){var f,m,v,x=d,y="",w="";return h&&(d=h(d)),r(d)?(e!==!1&&parseFloat(d.toFixed(e))===0&&(d=0),0>d&&(f=!0,d=Math.abs(d)),e!==!1&&(d=s(d,e)),d+="",d.indexOf(".")!==-1?(m=d.split("."),v=m[0],n&&(y=n+m[1])):v=d,i&&(v=t(v).match(/.{1,3}/g),v=t(v.join(t(i)))),f&&u&&(w+=u),o&&(w+=o),f&&p&&(w+=p),w+=v,w+=y,a&&(w+=a),c&&(w=c(w,x)),w):!1}function a(t,n,s,o,a,h,l,u,p,c,g,d){var f,m="";return g&&(d=g(d)),d&&typeof d=="string"?(u&&e(d,u)&&(d=d.replace(u,""),f=!0),o&&e(d,o)&&(d=d.replace(o,"")),p&&e(d,p)&&(d=d.replace(p,""),f=!0),a&&i(d,a)&&(d=d.slice(0,-1*a.length)),n&&(d=d.split(n).join("")),s&&(d=d.replace(s,".")),f&&(m+="-"),m+=d,m=m.replace(/[^0-9\.\-.]/g,""),m===""?!1:(m=Number(m),l&&(m=l(m)),r(m)?m:!1)):!1}function h(t){var e,i,r,s={};for(e=0;p.length>e;e+=1)if(i=p[e],r=t[i],r===void 0)s[i]=i!=="negative"||s.negativeBefore?i==="mark"&&s.thousand!=="."?".":!1:"-";else if(i==="decimals"){if(!(r>=0&&8>r))throw Error(i);s[i]=r}else if(i==="encoder"||i==="decoder"||i==="edit"||i==="undo"){if(typeof r!="function")throw Error(i);s[i]=r}else{if(typeof r!="string")throw Error(i);s[i]=r}return n(s,"mark","thousand"),n(s,"prefix","negative"),n(s,"prefix","negativeBefore"),s}function l(t,e,i){var n,r=[];for(n=0;p.length>n;n+=1)r.push(t[p[n]]);return r.push(i),e.apply("",r)}function u(t){return this instanceof u?(typeof t=="object"&&(t=h(t),this.to=function(e){return l(t,o,e)},this.from=function(e){return l(t,a,e)}),void 0):new u(t)}var p=["decimals","thousand","mark","prefix","postfix","encoder","decoder","negativeBefore","negative","edit","undo"];window.wNumb=u}(),!function(){"use strict";function t(t){return t.split("").reverse().join("")}function e(t,e){return t.substring(0,e.length)===e}function i(t,e){return t.slice(-1*e.length)===e}function n(t,e,i){if((t[e]||t[i])&&t[e]===t[i])throw Error(e)}function r(t){return"number"==typeof t&&isFinite(t)}function s(t,e){var i=Math.pow(10,e);return(Math.round(t*i)/i).toFixed(e)}function o(e,i,n,o,a,h,l,u,p,c,g,d){var f,m,v,x=d,y="",w="";return h&&(d=h(d)),r(d)?(e!==!1&&0===parseFloat(d.toFixed(e))&&(d=0),0>d&&(f=!0,d=Math.abs(d)),e!==!1&&(d=s(d,e)),d+="",-1!==d.indexOf(".")?(m=d.split("."),v=m[0],n&&(y=n+m[1])):v=d,i&&(v=t(v).match(/.{1,3}/g),v=t(v.join(t(i)))),f&&u&&(w+=u),o&&(w+=o),f&&p&&(w+=p),w+=v,w+=y,a&&(w+=a),c&&(w=c(w,x)),w):!1}function a(t,n,s,o,a,h,l,u,p,c,g,d){var f,m="";return g&&(d=g(d)),d&&"string"==typeof d?(u&&e(d,u)&&(d=d.replace(u,""),f=!0),o&&e(d,o)&&(d=d.replace(o,"")),p&&e(d,p)&&(d=d.replace(p,""),f=!0),a&&i(d,a)&&(d=d.slice(0,-1*a.length)),n&&(d=d.split(n).join("")),s&&(d=d.replace(s,".")),f&&(m+="-"),m+=d,m=m.replace(/[^0-9\.\-.]/g,""),""===m?!1:(m=Number(m),l&&(m=l(m)),r(m)?m:!1)):!1}function h(t){var e,i,r,s={};for(e=0;p.length>e;e+=1)if(i=p[e],r=t[i],void 0===r)s[i]="negative"!==i||s.negativeBefore?"mark"===i&&"."!==s.thousand?".":!1:"-";else if("decimals"===i){if(!(r>=0&&8>r))throw Error(i);s[i]=r}else if("encoder"===i||"decoder"===i||"edit"===i||"undo"===i){if("function"!=typeof r)throw Error(i);s[i]=r}else{if("string"!=typeof r)throw Error(i);s[i]=r}return n(s,"mark","thousand"),n(s,"prefix","negative"),n(s,"prefix","negativeBefore"),s}function l(t,e,i){var n,r=[];for(n=0;p.length>n;n+=1)r.push(t[p[n]]);return r.push(i),e.apply("",r)}function u(t){return this instanceof u?void("object"==typeof t&&(t=h(t),this.to=function(e){return l(t,o,e)},this.from=function(e){return l(t,a,e)})):new u(t)}var p=["decimals","thousand","mark","prefix","postfix","encoder","decoder","negativeBefore","negative","edit","undo"];window.wNumb=u}(),function(t){"use strict";function e(e){return e instanceof t||t.zepto&&t.zepto.isZ(e)}function i(e,i){return"string"==typeof e&&0===e.indexOf("-inline-")?(this.method=i||"html",this.target=this.el=t(e.replace("-inline-","")||"<div/>"),!0):void 0}function n(e){if("string"==typeof e&&0!==e.indexOf("-")){this.method="val";var i=document.createElement("input");return i.name=e,i.type="hidden",this.target=this.el=t(i),!0}}function r(t){return"function"==typeof t?(this.target=!1,this.method=t,!0):void 0}function s(t,i){return e(t)&&!i?(t.is("input, select, textarea")?(this.method="val",this.target=t.on("change.liblink",this.changeHandler)):(this.target=t,this.method="html"),!0):void 0}function o(t,i){return e(t)&&("function"==typeof i||"string"==typeof i&&t[i])?(this.method=i,this.target=t,!0):void 0}function a(e,i,n){var r=this,s=!1;if(this.changeHandler=function(e){var i=r.formatInstance.from(t(this).val());return i===!1||isNaN(i)?(t(this).val(r.lastSetValue),!1):void r.changeHandlerMethod.call("",e,i)},this.el=!1,this.formatInstance=n,t.each(u,function(t,n){return s=n.call(r,e,i),!s}),!s)throw new RangeError("(Link) Invalid Link.")}function h(t){this.items=[],this.elements=[],this.origin=t}function l(e,i,n,r){0===e&&(e=this.LinkDefaultFlag),this.linkAPI||(this.linkAPI={}),this.linkAPI[e]||(this.linkAPI[e]=new h(this));var s=new a(i,n,r||this.LinkDefaultFormatter);s.target||(s.target=t(this)),s.changeHandlerMethod=this.LinkConfirm(e,s.el),this.linkAPI[e].push(s,s.el),this.LinkUpdate(e)}var u=[i,n,r,s,o];a.prototype.set=function(t){var e=Array.prototype.slice.call(arguments),i=e.slice(1);this.lastSetValue=this.formatInstance.to(t),i.unshift(this.lastSetValue),("function"==typeof this.method?this.method:this.target[this.method]).apply(this.target,i)},h.prototype.push=function(t,e){this.items.push(t),e&&this.elements.push(e)},h.prototype.reconfirm=function(t){var e;for(e=0;this.elements.length>e;e+=1)this.origin.LinkConfirm(t,this.elements[e])},h.prototype.remove=function(){var t;for(t=0;this.items.length>t;t+=1)this.items[t].target.off(".liblink");for(t=0;this.elements.length>t;t+=1)this.elements[t].remove()},h.prototype.change=function(t){if(this.origin.LinkIsEmitting)return!1;this.origin.LinkIsEmitting=!0;var e,i=Array.prototype.slice.call(arguments,1);for(i.unshift(t),e=0;this.items.length>e;e+=1)this.items[e].set.apply(this.items[e],i);this.origin.LinkIsEmitting=!1},t.fn.Link=function(e){var i=this;if(e===!1)return i.each(function(){this.linkAPI&&(t.map(this.linkAPI,function(t){t.remove()}),delete this.linkAPI)});if(void 0===e)e=0;else if("string"!=typeof e)throw Error("Flag must be string.");return{to:function(t,n,r){return i.each(function(){l.call(this,e,t,n,r)})}}}}(window.jQuery||window.Zepto),function(t){"use strict";function e(e){return t.grep(e,function(i,n){return n===t.inArray(i,e)})}function i(t,e){return Math.round(t/e)*e}function n(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function r(t){var e=Math.pow(10,7);return Number((Math.round(t*e)/e).toFixed(7))}function s(t,e,i){t.addClass(e),setTimeout(function(){t.removeClass(e)},i)}function o(t){return Math.max(Math.min(t,100),0)}function a(e){return t.isArray(e)?e:[e]}function h(t){var e=t.split(".");return e.length>1?e[1].length:0}function l(t,e){return 100/(e-t)}function u(t,e){return 100*e/(t[1]-t[0])}function p(t,e){return u(t,0>t[0]?e+Math.abs(t[0]):e-t[0])}function c(t,e){return e*(t[1]-t[0])/100+t[0]}function g(t,e){for(var i=1;t>=e[i];)i+=1;return i}function d(t,e,i){if(i>=t.slice(-1)[0])return 100;var n,r,s,o,a=g(i,t);return n=t[a-1],r=t[a],s=e[a-1],o=e[a],s+p([n,r],i)/l(s,o)}function f(t,e,i){if(i>=100)return t.slice(-1)[0];var n,r,s,o,a=g(i,e);return n=t[a-1],r=t[a],s=e[a-1],o=e[a],c([n,r],(i-s)*l(s,o))}function m(t,e,n,r){if(100===r)return r;var s,o,a=g(r,t);return n?(s=t[a-1],o=t[a],r-s>(o-s)/2?o:s):e[a-1]?t[a-1]+i(r-t[a-1],e[a-1]):r}function v(t,e,i){var r;if("number"==typeof e&&(e=[e]),"[object Array]"!==Object.prototype.toString.call(e))throw Error("noUiSlider: 'range' contains invalid value.");if(r="min"===t?0:"max"===t?100:parseFloat(t),!n(r)||!n(e[0]))throw Error("noUiSlider: 'range' value isn't numeric.");i.xPct.push(r),i.xVal.push(e[0]),r?i.xSteps.push(isNaN(e[1])?!1:e[1]):isNaN(e[1])||(i.xSteps[0]=e[1])}function x(t,e,i){return e?void(i.xSteps[t]=u([i.xVal[t],i.xVal[t+1]],e)/l(i.xPct[t],i.xPct[t+1])):!0}function y(t,e,i,n){this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.snap=e,this.direction=i;var r,s=[];for(r in t)t.hasOwnProperty(r)&&s.push([t[r],r]);for(s.sort(function(t,e){return t[0]-e[0]}),r=0;s.length>r;r++)v(s[r][1],s[r][0],this);for(this.xNumSteps=this.xSteps.slice(0),r=0;this.xNumSteps.length>r;r++)x(r,this.xNumSteps[r],this)}function w(t,e){if(!n(e))throw Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function b(e,i){if("object"!=typeof i||t.isArray(i))throw Error("noUiSlider: 'range' is not an object.");if(void 0===i.min||void 0===i.max)throw Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new y(i,e.snap,e.dir,e.singleStep)}function S(e,i){if(i=a(i),!t.isArray(i)||!i.length||i.length>2)throw Error("noUiSlider: 'start' option is incorrect.");e.handles=i.length,e.start=i}function C(t,e){if(t.snap=e,"boolean"!=typeof e)throw Error("noUiSlider: 'snap' option must be a boolean.")}function k(t,e){if(t.animate=e,"boolean"!=typeof e)throw Error("noUiSlider: 'animate' option must be a boolean.")}function R(t,e){if("lower"===e&&1===t.handles)t.connect=1;else if("upper"===e&&1===t.handles)t.connect=2;else if(e===!0&&2===t.handles)t.connect=3;else{if(e!==!1)throw Error("noUiSlider: 'connect' option doesn't match handle count.");t.connect=0}}function M(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw Error("noUiSlider: 'orientation' option is invalid.")}}function I(t,e){if(!n(e))throw Error("noUiSlider: 'margin' option must be numeric.");if(t.margin=t.spectrum.getMargin(e),!t.margin)throw Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function P(t,e){if(!n(e))throw Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(e),!t.limit)throw Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function _(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1,t.connect=[0,2,1,3][t.connect];break;default:throw Error("noUiSlider: 'direction' option was not recognized.")}}function H(t,e){if("string"!=typeof e)throw Error("noUiSlider: 'behaviour' must be a string containing options.");var i=e.indexOf("tap")>=0,n=e.indexOf("drag")>=0,r=e.indexOf("fixed")>=0,s=e.indexOf("snap")>=0;t.events={tap:i||s,drag:n,fixed:r,snap:s}}function L(t,e){if(t.format=e,"function"==typeof e.to&&"function"==typeof e.from)return!0;throw Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function z(e){var i,n={margin:0,limit:0,animate:!0,format:Z};return i={step:{r:!1,t:w},start:{r:!0,t:S},connect:{r:!0,t:R},direction:{r:!0,t:_},snap:{r:!1,t:C},animate:{r:!1,t:k},range:{r:!0,t:b},orientation:{r:!1,t:M},margin:{r:!1,t:I},limit:{r:!1,t:P},behaviour:{r:!0,t:H},format:{r:!1,t:L}},e=t.extend({connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"},e),t.each(i,function(t,i){if(void 0===e[t]){if(i.r)throw Error("noUiSlider: '"+t+"' is required.");return!0}i.t(n,e[t])}),n.style=n.ort?"top":"left",n}function T(t,e,i){var n=t+e[0],r=t+e[1];return i?(0>n&&(r+=Math.abs(n)),r>100&&(n-=r-100),[o(n),o(r)]):[n,r]}function A(t){t.preventDefault();var e,i,n=0===t.type.indexOf("touch"),r=0===t.type.indexOf("mouse"),s=0===t.type.indexOf("pointer"),o=t;return 0===t.type.indexOf("MSPointer")&&(s=!0),t.originalEvent&&(t=t.originalEvent),n&&(e=t.changedTouches[0].pageX,i=t.changedTouches[0].pageY),(r||s)&&(s||void 0!==window.pageXOffset||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),e=t.clientX+window.pageXOffset,i=t.clientY+window.pageYOffset),o.points=[e,i],o.cursor=r,o}function j(e,i){var n=t("<div><div/></div>").addClass(G[2]),r=["-lower","-upper"];return e&&r.reverse(),n.children().addClass(G[3]+" "+G[3]+r[i]),n}function F(t,e,i){switch(t){case 1:e.addClass(G[7]),i[0].addClass(G[6]);break;case 3:i[1].addClass(G[6]);case 2:i[0].addClass(G[7]);case 0:e.addClass(G[6])}}function W(t,e,i){var n,r=[];for(n=0;t>n;n+=1)r.push(j(e,n).appendTo(i));return r}function E(e,i,n){return n.addClass([G[0],G[8+e],G[4+i]].join(" ")),t("<div/>").appendTo(n).addClass(G[1])}function q(e,i,n){function r(){return P[["width","height"][i.ort]]()}function l(t){var e,i=[H.val()];for(e=0;t.length>e;e+=1)H.trigger(t[e],i)}function u(t){return 1===t.length?t[0]:i.dir?t.reverse():t}function p(t){return function(e,i){H.val([t?null:i,t?i:null],!0)}}function c(e){var i=t.inArray(e,q);H[0].linkAPI&&H[0].linkAPI[e]&&H[0].linkAPI[e].change(j[i],_[i].children(),H)}function g(e,n){var r=t.inArray(e,q);return n&&n.appendTo(_[r].children()),i.dir&&i.handles>1&&(r=1===r?0:1),p(r)}function d(){var t,e;for(t=0;q.length>t;t+=1)this.linkAPI&&this.linkAPI[e=q[t]]&&this.linkAPI[e].reconfirm(e)}function f(t,e,n,r){return t=t.replace(/\s/g,$+" ")+$,e.on(t,function(t){return H.attr("disabled")?!1:H.hasClass(G[14])?!1:(t=A(t),t.calcPoint=t.points[i.ort],void n(t,r))})}function m(t,e){var i,n=e.handles||_,s=!1,o=100*(t.calcPoint-e.start)/r(),a=n[0][0]!==_[0][0]?1:0;i=T(o,e.positions,n.length>1),s=b(n[0],i[a],1===n.length),n.length>1&&(s=b(n[1],i[a?0:1],!1)||s),s&&l(["slide"])}function v(e){t("."+G[15]).removeClass(G[15]),e.cursor&&t("body").css("cursor","").off($),D.off($),H.removeClass(G[12]),l(["set","change"])}function x(e,i){1===i.handles.length&&i.handles[0].children().addClass(G[15]),e.stopPropagation(),f(Q.move,D,m,{start:e.calcPoint,handles:i.handles,positions:[L[0],L[_.length-1]]}),f(Q.end,D,v,null),e.cursor&&(t("body").css("cursor",t(e.target).css("cursor")),_.length>1&&H.addClass(G[12]),t("body").on("selectstart"+$,!1))}function y(e){var n,o=e.calcPoint,a=0;e.stopPropagation(),t.each(_,function(){a+=this.offset()[i.style]}),a=a/2>o||1===_.length?0:1,o-=P.offset()[i.style],n=100*o/r(),i.events.snap||s(H,G[14],300),b(_[a],n),l(["slide","set","change"]),i.events.snap&&x(e,{handles:[_[a]]})}function w(t){var e,i;if(!t.fixed)for(e=0;_.length>e;e+=1)f(Q.start,_[e].children(),x,{handles:[_[e]]});t.tap&&f(Q.start,P,y,{handles:_}),t.drag&&(i=P.find("."+G[7]).addClass(G[10]),t.fixed&&(i=i.add(P.children().not(i).children())),f(Q.start,i,x,{handles:_}))}function b(t,e,n){var r=t[0]!==_[0][0]?1:0,s=L[0]+i.margin,a=L[1]-i.margin,h=L[0]+i.limit,l=L[1]-i.limit;return _.length>1&&(e=r?Math.max(e,s):Math.min(e,a)),n!==!1&&i.limit&&_.length>1&&(e=r?Math.min(e,h):Math.max(e,l)),e=z.getStep(e),e=o(parseFloat(e.toFixed(7))),e===L[r]?!1:(t.css(i.style,e+"%"),t.is(":first-child")&&t.toggleClass(G[17],e>50),L[r]=e,j[r]=z.fromStepping(e),c(q[r]),!0)}function S(t,e){var n,r,s;for(i.limit&&(t+=1),n=0;t>n;n+=1)r=n%2,s=e[r],null!==s&&s!==!1&&("number"==typeof s&&(s+=""),s=i.format.from(s),(s===!1||isNaN(s)||b(_[r],z.toStepping(s),n===3-i.dir)===!1)&&c(q[r]))}function C(t){if(H[0].LinkIsEmitting)return this;var e,n=a(t);return i.dir&&i.handles>1&&n.reverse(),i.animate&&-1!==L[0]&&s(H,G[14],300),e=_.length>1?3:1,1===n.length&&(e=1),S(e,n),l(["set"]),this}function k(){var t,e=[];for(t=0;i.handles>t;t+=1)e[t]=i.format.to(j[t]);return u(e)}function R(){return t(this).off($).removeClass(G.join(" ")).empty(),delete this.LinkUpdate,delete this.LinkConfirm,delete this.LinkDefaultFormatter,delete this.LinkDefaultFlag,delete this.reappend,delete this.vGet,delete this.vSet,delete this.getCurrentStep,delete this.getInfo,delete this.destroy,n}function M(){var e=t.map(L,function(t,e){var i=z.getApplicableStep(t),n=h(i[2]+""),r=j[e],s=100===t?null:i[2],o=Number((r-i[2]).toFixed(n)),a=0===t?null:o>=i[1]?i[2]:i[0]||!1;return[[a,s]]});return u(e)}function I(){return n}var P,_,H=t(e),L=[-1,-1],z=i.spectrum,j=[],q=["lower","upper"].slice(0,i.handles);if(i.dir&&q.reverse(),e.LinkUpdate=c,e.LinkConfirm=g,e.LinkDefaultFormatter=i.format,e.LinkDefaultFlag="lower",e.reappend=d,H.hasClass(G[0]))throw Error("Slider was already initialized.");P=E(i.dir,i.ort,H),_=W(i.handles,i.dir,P),F(i.connect,H,_),w(i.events),e.vSet=C,e.vGet=k,e.destroy=R,e.getCurrentStep=M,e.getOriginalOptions=I,e.getInfo=function(){return[z,i.style,i.ort]},H.val(i.start)}function N(t){var e=z(t,this);return this.each(function(){q(this,e,t)})}function O(e){return this.each(function(){if(!this.destroy)return void t(this).noUiSlider(e);var i=t(this).val(),n=this.destroy(),r=t.extend({},n,e);t(this).noUiSlider(r),this.reappend(),n.start===r.start&&t(this).val(i)})}function V(){return this[0][arguments.length?"vSet":"vGet"].apply(this[0],arguments)}function U(e,i,n,r){if("range"===i||"steps"===i)return e.xVal;if("count"===i){var s,o=100/(n-1),a=0;for(n=[];100>=(s=a++*o);)n.push(s);
i="positions"}return"positions"===i?t.map(n,function(t){return e.fromStepping(r?e.getStep(t):t)}):"values"===i?r?t.map(n,function(t){return e.fromStepping(e.getStep(e.toStepping(t)))}):n:void 0}function B(i,n,r,s){var o=i.direction,a={},h=i.xVal[0],l=i.xVal[i.xVal.length-1],u=!1,p=!1,c=0;return i.direction=0,s=e(s.slice().sort(function(t,e){return t-e})),s[0]!==h&&(s.unshift(h),u=!0),s[s.length-1]!==l&&(s.push(l),p=!0),t.each(s,function(e){var o,h,l,g,d,f,m,v,x,y,w=s[e],b=s[e+1];if("steps"===r&&(o=i.xNumSteps[e]),o||(o=b-w),w!==!1&&void 0!==b)for(h=w;b>=h;h+=o){for(g=i.toStepping(h),d=g-c,v=d/n,x=Math.round(v),y=d/x,l=1;x>=l;l+=1)f=c+l*y,a[f.toFixed(5)]=["x",0];m=t.inArray(h,s)>-1?1:"steps"===r?2:0,!e&&u&&(m=0),h===b&&p||(a[g.toFixed(5)]=[h,m]),c=g}}),i.direction=o,a}function X(e,i,n,r,s,o){function a(t){return["-normal","-large","-sub"][t]}function h(t,i,n){return'class="'+i+" "+i+"-"+u+" "+i+a(n[1],n[0])+'" style="'+e+": "+t+'%"'}function l(t,e){n&&(t=100-t),e[1]=e[1]&&s?s(e[0],e[1]):e[1],p.append("<div "+h(t,"noUi-marker",e)+"></div>"),e[1]&&p.append("<div "+h(t,"noUi-value",e)+">"+o.to(e[0])+"</div>")}var u=["horizontal","vertical"][i],p=t("<div/>");return p.addClass("noUi-pips noUi-pips-"+u),t.each(r,l),p}var D=t(document),Y=t.fn.val,$=".nui",Q=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},G=["noUi-target","noUi-base","noUi-origin","noUi-handle","noUi-horizontal","noUi-vertical","noUi-background","noUi-connect","noUi-ltr","noUi-rtl","noUi-dragable","","noUi-state-drag","","noUi-state-tap","noUi-active","","noUi-stacking"];y.prototype.getMargin=function(t){return 2===this.xPct.length?u(this.xVal,t):!1},y.prototype.toStepping=function(t){return t=d(this.xVal,this.xPct,t),this.direction&&(t=100-t),t},y.prototype.fromStepping=function(t){return this.direction&&(t=100-t),r(f(this.xVal,this.xPct,t))},y.prototype.getStep=function(t){return this.direction&&(t=100-t),t=m(this.xPct,this.xSteps,this.snap,t),this.direction&&(t=100-t),t},y.prototype.getApplicableStep=function(t){var e=g(t,this.xPct),i=100===t?2:1;return[this.xNumSteps[e-2],this.xVal[e-i],this.xNumSteps[e-i]]},y.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var Z={to:function(t){return t.toFixed(2)},from:Number};t.fn.val=function(e){function i(t){return t.hasClass(G[0])?V:Y}if(!arguments.length){var n=t(this[0]);return i(n).call(n)}var r=t.isFunction(e);return this.each(function(n){var s=e,o=t(this);r&&(s=e.call(this,n,o.val())),i(o).call(o,s)})},t.fn.noUiSlider=function(t,e){switch(t){case"step":return this[0].getCurrentStep();case"options":return this[0].getOriginalOptions()}return(e?O:N).call(this,t)},t.fn.noUiSlider_pips=function(e){var i=e.mode,n=e.density||1,r=e.filter||!1,s=e.values||!1,o=e.format||{to:Math.round},a=e.stepped||!1;return this.each(function(){var e=this.getInfo(),h=U(e[0],i,s,a),l=B(e[0],n,i,h);return t(this).append(X(e[1],e[2],e[0].direction,l,r,o))})}}(window.jQuery||window.Zepto),function(t){function e(){s=!1;for(var e=0,r=n.length;r>e;e++){var o=t(n[e]).filter(function(){return t(this).is(":appeared")});if(o.trigger("appear",[o]),i){var a=i.not(o);a.trigger("disappear",[a])}i=o}}var i,n=[],r=!1,s=!1,o={interval:250,force_process:!1},a=t(window);t.expr[":"].appeared=function(e){var i=t(e);if(!i.is(":visible"))return!1;var n=a.scrollLeft(),r=a.scrollTop(),s=i.offset(),o=s.left,h=s.top;return h+i.height()>=r&&r+a.height()>=h-(i.data("appear-top-offset")||0)&&o+i.width()>=n&&n+a.width()>=o-(i.data("appear-left-offset")||0)?!0:!1},t.fn.extend({appear:function(i){var a=t.extend({},o,i||{}),h=this.selector||this;if(!r){var l=function(){s||(s=!0,setTimeout(e,a.interval))};t(window).scroll(l).resize(l),r=!0}return a.force_process&&setTimeout(e,a.interval),n.push(h),t(h)}}),t.extend({force_appear:function(){return r?(e(),!0):!1}})}(jQuery);